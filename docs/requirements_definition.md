# お手伝いクエスト型お小遣いアプリ - 要件定義書

## プロジェクト概要

**プロダクト名**: お手伝いクエスト型お小遣いアプリ（仮）
**開発期間**: 2025/9/16 - 9/29（2週間）
**対象プラットフォーム**: モバイル（スマートフォン）
**技術スタック**: Streamlit + RDB

## ユーザー・ペイン・価値

### WHO
- 低学年などの子供を持つ親

### ペイン
- 子供にお手伝いはしてほしいけど動機がない
- お金を稼ぐ体験をさせたいけど、子供が低学年
- お小遣いの適正価格がよくわからない

### 価値
- **親**: 生活力育成・習慣化・コミュニケーションの定常化
- **子**: 欲しい物の獲得体験、努力と成果の因果の学習、自己効力感の獲得

## フェーズ別開発計画

### Phase 1（9/16-9/22）：基本機能実装

#### Must Have機能
1. **親がクエストを発行する**
   - クエスト内容の入力
   - 期限の設定
   - 報酬額の設定

2. **子供がクエストを受注・実行する**
   - 利用可能なクエスト一覧の表示
   - クエストの受注機能
   - 実行状況の更新

3. **子供がクエストを記録する**
   - 完了報告機能
   - 実行過程のメモ・写真添付（簡易版）

4. **親が記録を確認する**
   - 子供の完了報告の確認
   - 承認・却下機能

5. **報酬を渡す**
   - 承認時の報酬確定
   - 報酬履歴の記録（外部決済連携なし）

6. **記録がみえる**
   - 完了したクエスト履歴
   - 獲得報酬の累計
   - 簡易的な進捗可視化

#### Phase 1の技術制約
- 決済API連携は不要（記録のみ）
- デザインはStreamlitの標準機能を活用
- データベースは基本的なRDB構成

### Phase 2（9/23-9/29）：付加価値機能

#### Should Have機能
1. **お手伝い予測・目標算出**
   - 過去データからの傾向分析
   - 月次目標の自動提案

2. **ボーナスロジック**
   - 予測を超えた場合の報酬1.2倍機能
   - 連続達成ボーナス

3. **外部決済連携**
   - PayPay等へのリダイレクト機能
   - 報酬支払いの自動化

4. **ゲーミフィケーション強化**
   - レベルアップ演出
   - 実績バッジ
   - 継続率可視化

## 画面構成（モバイル前提）

### 基本画面構成（6画面以上）

1. **ログイン画面**
   - 親・子の選択
   - 簡易認証

2. **親：クエスト管理画面**
   - クエスト発行
   - 進行中クエスト一覧
   - 承認待ち一覧

3. **親：承認画面**
   - 子供の完了報告詳細
   - 承認・却下ボタン
   - 報酬確定

4. **子：クエスト一覧画面**
   - 受注可能クエスト
   - 進行中クエスト
   - 完了済みクエスト

5. **子：クエスト実行画面**
   - 進捗更新
   - 完了報告
   - メモ・写真投稿

6. **共通：実績・履歴画面**
   - 完了クエスト履歴
   - 獲得報酬累計
   - 統計情報

### 基本ユーザーフロー

```
親：クエスト発行 
    ↓
子：クエスト受注
    ↓
子：実行・進捗更新
    ↓
子：完了報告
    ↓
親：確認・承認
    ↓
報酬確定・記録更新
    ↓
実績反映・可視化
```

## データモデル（概要）

### 主要エンティティ
- **User**（ユーザー）
  - user_id, name, role（親/子）, created_at

- **Quest**（クエスト）
  - quest_id, title, description, reward_amount, deadline, status, created_by, created_at

- **QuestExecution**（クエスト実行）
  - execution_id, quest_id, assigned_to, started_at, completed_at, status, memo

- **Reward**（報酬）
  - reward_id, quest_id, user_id, amount, paid_at, status

- **Achievement**（実績）
  - achievement_id, user_id, total_quests, total_rewards, level, created_at

## 成功指標

### Phase 1の成功指標
- 基本フローの完全動作（クエスト発行→実行→承認→報酬記録）
- モバイルでの使いやすいUI
- データの正確な記録・表示

### Phase 2の成功指標
- 予測・ボーナス機能の動作
- 外部決済連携の実装
- ゲーミフィケーション要素の実装

## リスク・制約

### 技術的制約
- Streamlitのモバイル対応限界
- 2週間での開発期間
- チーム開発経験の差

### 機能的制約
- Phase 1では外部API連携なし
- 認証機能は簡易版
- 写真アップロード機能は最小限

## 次のアクション

### 9/16 MTGまでに各Lead が準備すること

**Lead Designer（りすさん）**
- 6画面以上のワイヤーフレーム作成
- モバイル前提のUI設計
- ユーザーフロー図の作成

**Lead Engineer（けんたさん）**
- データベース設計書（スキーマ・トランザクション方針）
- Streamlitでの技術実現方法の検討
- 開発環境構築方法の整理

**PdM（しゅんすけ）**
- GitHub環境構築
- 開発フロー・コミュニケーション設計
- Phase 1とPhase 2のタスク詳細化

### 9/16 MTGでの決定事項
- ワイヤーフレームとDB設計の統合
- Phase 1の詳細タスク分解・アサイン
- 開発スケジュール確定
- Phase 2の優先順位決定

---

**最終更新**: 2025/9/13
**作成者**: PdM（しゅんすけ）
